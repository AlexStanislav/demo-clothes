import{_ as x,y as V,z as f,D as $,o as n,c as l,a as s,G as c,p as m,F as u,u as y,v as C,x as i,E as k,ai as D,ao as I,i as g,I as N,J as z}from"./index-Dx_1R-Qw.js";const h=r=>(N("data-v-62a7cbf3"),r=r(),z(),r),P=h(()=>s("div",{class:"spacer"},null,-1)),B=h(()=>s("h1",null,"CART",-1)),E={class:"cart-wrapper"},F={key:0},H={class:"cart-items"},M={class:"cart-item"},U=["src"],j={class:"cart-item-info"},A={class:"quantity"},J=["onClick"],O=["onClick"],Q={class:"price"},R=["onClick"],G={key:1,class:"cart-footer"},L={class:"cart-footer-info"},Y=["for"],K=["id","value"],W={class:"cart-total"},X=h(()=>s("span",null,"Total",-1)),Z={__name:"CartView",setup(r){const o=V(),d=f("Home Delivery"),T=f(["Pickup","Home Delivery"]),w=e=>{o.removeFromCart(e)},b=e=>{o.cart.find(t=>t.id===e.id)&&e.quantity++,p(),v()},S=e=>{o.cart.find(t=>t.id===e.id)&&e.quantity>1&&e.quantity--,p(),v()};function p(){const e=o.cart;let a=0;for(let t=0;t<e.length;t++)a+=e[t].price*e[t].quantity;o.cartTotal=a}function v(){const e=o.cart;let a=0;for(let t=0;t<e.length;t++)a+=e[t].quantity;o.cartCount=a}function q(){fetch("http://localhost:8000/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:o.cart})}).then(e=>e.json()).then(e=>{window.open(e.url,"_blank")}).catch(e=>{console.log(e)})}return $(d,()=>{d.value==="Home Delivery"?o.cartTotal+=5:o.cartTotal-=5}),(e,a)=>(n(),l(u,null,[P,B,s("section",E,[c(o).cart.length?m("",!0):(n(),l("h3",F,"EMPTY")),s("section",H,[(n(!0),l(u,null,y(c(o).cart,t=>(n(),l("div",M,[s("img",{src:t.image,alt:""},null,8,U),s("div",j,[s("h2",null,i(t.name),1),s("p",null,"Color: "+i(t.colors[t.colors.length-1].split("")[0].toUpperCase()+t.colors[t.colors.length-1].slice(1)),1),s("p",null,"Size: "+i(t.sizes[t.sizes.length-1]),1),s("p",null,"Collection: "+i(t.collection.toUpperCase()),1),s("p",A,[s("i",{class:"pi pi-chevron-left",onClick:_=>S(t)},null,8,J),C(" "+i(t.quantity)+" ",1),s("i",{class:"pi pi-chevron-right",onClick:_=>b(t)},null,8,O)]),s("p",Q,"$"+i(t.price*t.quantity),1)]),s("i",{class:"pi pi-times",onClick:_=>w(t)},null,8,R)]))),256))]),c(o).cart.length?(n(),l("section",G,[s("div",L,[(n(!0),l(u,null,y(T.value,t=>(n(),l("div",{class:"delivery-type",key:t},[s("label",{for:t},i(t),9,Y),D(s("input",{type:"radio",id:t,value:t,"onUpdate:modelValue":a[0]||(a[0]=_=>d.value=_)},null,8,K),[[I,d.value]])]))),128)),s("div",W,[X,C(" $"+i(c(o).cartTotal),1)]),k(c(g),{label:"Checkout",style:{"border-radius":"0","margin-top":"10px",width:"100%"},severity:"info",onClick:a[1]||(a[1]=t=>q())}),k(c(g),{label:"Clear cart",style:{"border-radius":"0","margin-top":"10px",width:"100%"},severity:"danger",onClick:a[2]||(a[2]=t=>c(o).clearCart())})])])):m("",!0)])],64))}},et=x(Z,[["__scopeId","data-v-62a7cbf3"]]);export{et as default};
