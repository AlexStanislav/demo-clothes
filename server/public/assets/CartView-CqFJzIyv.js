import{_ as q,y as w,z as u,o as c,c as l,a as s,G as a,p as f,F as m,u as $,v as C,x as i,E as y,i as v,I as b,J as x}from"./index-DIKc1FUq.js";const _=r=>(b("data-v-d29d27f4"),r=r(),x(),r),V=_(()=>s("div",{class:"spacer"},null,-1)),I=_(()=>s("h1",null,"CART",-1)),N={class:"cart-wrapper"},z={key:0},P={class:"cart-items"},B={class:"cart-item"},D=["src"],E={class:"cart-item-info"},F={class:"quantity"},U=["onClick"],j=["onClick"],A={class:"price"},H=["onClick"],J={key:1,class:"cart-footer"},L={class:"cart-footer-info"},O={class:"cart-total"},Q=_(()=>s("span",null,"Total",-1)),R={__name:"CartView",setup(r){const o=w();u("Home Delivery"),u(["Pickup","Home Delivery"]);const g=e=>{o.removeFromCart(e)},k=e=>{o.cart.find(t=>t.id===e.id)&&e.quantity++,d(),h()},S=e=>{o.cart.find(t=>t.id===e.id)&&e.quantity>1&&e.quantity--,d(),h()};function d(){const e=o.cart;let n=0;for(let t=0;t<e.length;t++)n+=e[t].price*e[t].quantity;o.cartTotal=n}function h(){const e=o.cart;let n=0;for(let t=0;t<e.length;t++)n+=e[t].quantity;o.cartCount=n}function T(){fetch(`${o.baseURL}/checkout`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:o.cart})}).then(e=>e.json()).then(e=>{window.open(e.url,"_blank")}).catch(e=>{console.log(e)})}return(e,n)=>(c(),l(m,null,[V,I,s("section",N,[a(o).cart.length?f("",!0):(c(),l("h3",z,"EMPTY")),s("section",P,[(c(!0),l(m,null,$(a(o).cart,t=>(c(),l("div",B,[s("img",{src:t.image,alt:""},null,8,D),s("div",E,[s("h2",null,i(t.name),1),s("p",null,"Color: "+i(t.colors[t.colors.length-1].split("")[0].toUpperCase()+t.colors[t.colors.length-1].slice(1)),1),s("p",null,"Size: "+i(t.sizes[t.sizes.length-1]),1),s("p",null,"Collection: "+i(t.collection.toUpperCase()),1),s("p",F,[s("i",{class:"pi pi-chevron-left",onClick:p=>S(t)},null,8,U),C(" "+i(t.quantity)+" ",1),s("i",{class:"pi pi-chevron-right",onClick:p=>k(t)},null,8,j)]),s("p",A,"$"+i(t.price*t.quantity),1)]),s("i",{class:"pi pi-times",onClick:p=>g(t)},null,8,H)]))),256))]),a(o).cart.length?(c(),l("section",J,[s("div",L,[s("div",O,[Q,C(" $"+i(a(o).cartTotal),1)]),y(a(v),{label:"Checkout",style:{"border-radius":"0","margin-top":"10px",width:"100%"},severity:"info",onClick:n[0]||(n[0]=t=>T())}),y(a(v),{label:"Clear cart",style:{"border-radius":"0","margin-top":"10px",width:"100%"},severity:"danger",onClick:n[1]||(n[1]=t=>a(o).clearCart())})])])):f("",!0)])],64))}},M=q(R,[["__scopeId","data-v-d29d27f4"]]);export{M as default};
